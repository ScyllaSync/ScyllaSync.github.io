<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        ul.link-wapper {
            list-style-type: none;
            margin: 20px;
            padding: 0;
            text-align: center;
        }

        ul.link-wapper li{
            display: inline-block;
            padding: 10px;
        }

        ul.link-wapper li a {
            text-decoration: none;
            color: black;
            padding: 10px;
        }

        ul.link-wapper li a.active{
            color: #0037ff;
            border-bottom: 1px solid red;
        }

        div.content {
            max-width: 800px;
            background-color: orange;
            padding: 20px 50px;
            margin: 0 auto 10px;
            display: none;
        }

        .grid-container {
            display: grid;
            grid-template-columns:auto auto auto;
        }

        h4 {
            text-align: center;
        }
    </style>
    <script src="jquery.min.js"></script>
    <script>
        $(function (params) {
            $('.content').first().slideDown();
               $('ul.link-wapper li a').on("click",function(event) {
                   var current_tab = $(this);
                   $('ul.link-wapper li a').removeClass('active');
                   current_tab.addClass('active');
                   
                   $('.content').slideUp();
                   current_tab_herf = current_tab.attr('href');//#home
                   $(current_tab_herf).slideDown();//$('#home')

                   event.preventDefault();
               })
               //Save to Local storage
               $('.atc').on("click",function(params){
                   var name = $(this).data("name");
                   var price = $(this).data("price");
                   var id = $(this).data("id");

                   var item = {id : id ,name : name, price : price, qty:1}

                   var cartArr = [];
                   var cartStr = localStorage.getItem("mycart");
                   if (!cartStr){
                       cartArr.push(item)
                   }else{
                       cartArr = JSON.parse(cartStr)

                       var old = false;

                       $.each(cartArr,function(i,v){
                           if(v.id == id && old==false){
                               v.qty ++;
                               old = true
                           }
                       })

                       if ( old == false){
                           cartArr.push(item)
                       }
                   }

                   localStorage.setItem("mycart",JSON.stringify(cartArr));
                   cartnoti();
                   showData();
               })
               //Cart Notification
               cartnoti();
               function cartnoti(){
                   var cartStr = localStorage.getItem("mycart");
                   var noticount = 0
                   if ( cartStr ){
                       var cartArr = JSON.parse(cartStr);
                       $.each(cartArr,function(i,v) {
                           noticount+=v.qty;
                       })
                   }
                   $("#cartnoti").html(noticount);
               }

               //Cart Table
               showData();
               function showData(){
                var cartStr = localStorage.getItem("mycart");
                var data = ""
                if (cartStr){
                    var cartArr = JSON.parse(cartStr);
                    $.each(cartArr,function(i,v){
                        data += `<tr>
                                   <td>${++i}</td>
                                   <td>${v.name}</td>
                                   <td>${v.price}</td>
                                   <td>${v.qty}</td>
                                   <td>${v.price * v.qty}</td>
                                </tr>`
                    })
                }
                $("#tbody").html(data)
            }
            
        })
    </script>
</head>
<body>
    <div class="tab">
        <ul class="link-wapper">
            <li>
                <a href="#home" class="active">Home</a>
            </li>
            <li>
                <a href="#about">About</a>
            </li>
            <li>
                <a href="#contact">Contact</a>
            </li>
            <li>
                <a href="#shop">Shop</a>
            </li>
            <li>
                <a href="#cart">Cart</a> <span id="cartnoti" style="color: red;"></span>
            </li>
        </ul>

        <div class="content" id="home">
            <h3>Home Page</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit neque laudantium laborum eaque ducimus facilis, voluptates ratione voluptatem illum magnam impedit iste dolor ut, vero deleniti explicabo ullam deserunt voluptas.</p>
        </div>

        <div class="content" id="about">
            <h3>About</h3>
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Laudantium atque sequi accusantium voluptatem, iste labore consectetur. Veritatis dicta aliquam temporibus eaque pariatur, dolores odio, iure sed repudiandae at error. Fugiat?</p>
        </div>

        <div class="content" id="contact">
            <h3>Contact</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam amet voluptatum repudiandae magnam quam tenetur reiciendis qui id necessitatibus consectetur molestiae natus nesciunt culpa, quod perferendis animi laudantium veniam nihil.</p>
        </div>

        <div class="content" id="shop">
            <h2>Shop Page</h2>
            <br>
            <div class="grid-container">
                <div class="grid-item">
                    <div class="country">
                        <img src="images/pic1.jpg" alt=""width="100px" height="100px">
                        <div class="country-info">
                            <h5 class="name">Item one</h5>
                            <p>Price : 3000</p>
                            <button class="atc" data-name="Item One" data-price="3000" data-id="1">Add to cart</button>
                        </div>
                    </div>
                </div>

                <div class="grid-item">
                    <div class="country">
                        <img src="images/pic2.jpg" alt=""width="100px" height="100px">
                        <div class="country-info">
                            <h5 class="name">Item two</h5>
                            <p>Price : 3000</p>
                            <button class="atc"data-name="Item Two" data-price="3000" data-id="2">Add to cart</button>
                        </div>
                    </div>
                </div>

                <div class="grid-item">
                    <div class="country">
                        <img src="images/pic3.jpg" alt="" width="100px" height="100px" >
                        <div class="country-info">
                            <h5 class="name">Item three</h5>
                            <p>Price : 3000</p>
                            <button class="atc"data-name="Item Three" data-price="3000" data-id="3">Add to cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="content" id="cart">
            <h3>Cart Page</h3>
            <table width="100%" border="1" cellspacing="0">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Qty</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>
                <tbody id="tbody"></tbody>
            </table>
        </div>
    </div>
</body>
</html>